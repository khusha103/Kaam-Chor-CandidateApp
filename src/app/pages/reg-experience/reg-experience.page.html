<!-- <ion-header [translucent]="true">
  <ion-toolbar>
    <ion-title>Experience</ion-title>
  </ion-toolbar>
</ion-header> -->

<app-form-tabs [currentPage]="currentPage" [progress]="progress"></app-form-tabs>

<ion-content class="ion-padding">
  <form (ngSubmit)="onSubmit()" [formGroup]="experienceForm">
    <ion-item lines="none">
      <ion-label class="ion-text-wrap">Do you have any work Experience?</ion-label>
    </ion-item>
    <ion-radio-group formControlName="have_experience" (ionChange)="onselect($event)">
      <ion-list lines="none">
        <ion-item>
      <ion-row class="radio-row">
  <ion-col size="6">
    <ion-item lines="none" class="ion-align-items-center radio-item">
      <ion-radio slot="start" value="Yes"></ion-radio>
      <ion-label class="cust_label">Yes</ion-label>
    </ion-item>
  </ion-col>
  <ion-col size="6">
    <ion-item lines="none" class="ion-align-items-center radio-item">
      <ion-radio slot="start" value="No"></ion-radio>
      <ion-label class="cust_label">No</ion-label>
    </ion-item>
  </ion-col>
</ion-row>


        </ion-item>
      </ion-list>
    </ion-radio-group>

    <div *ngIf="expyes">
      <ion-item class="custom-input-item" lines="none">
        <ion-label position="stacked" >Total Year of Experience</ion-label>
        <ion-input type="number" formControlName="year_of_experience" required></ion-input>
      </ion-item>
      <div>
        <ion-text color="danger"
          *ngIf="(experienceForm.get('year_of_experience')?.invalid && (experienceForm.get('year_of_experience')?.touched || experienceForm.get('year_of_experience')?.dirty))">Total
          Years of
          Experience is required.</ion-text>
        <ion-text color="danger" *ngIf="experienceForm.get('year_of_experience')?.errors?.['min']">Total Years must be
          at least
          0.</ion-text>
        <ion-text color="danger" *ngIf="experienceForm.get('year_of_experience')?.errors?.['max']">Total Years must be
          at most
          30.</ion-text>
      </div>

      <div class="divider">
        <span class="divider-text">Latest Job Details</span>
      </div>
      
      <ion-item class="custom-input-item" lines="none">
        <ion-label position="stacked">Job Title</ion-label>
        <ion-input  placeholder="First Name" type="text" formControlName="currentpast_job_title" required></ion-input>
      </ion-item>
      <div class="error ion-padding"
        *ngIf="experienceForm.get('currentpast_job_title')?.invalid && (experienceForm.get('currentpast_job_title')?.touched || experienceForm.get('currentpast_job_title')?.dirty)">
        <ion-text color="danger">Job Title is required.</ion-text>
      </div>

      <ion-item class="custom-input-item" lines="none">
        <ion-label position="stacked">Company Name</ion-label>
        <ion-input type="text" formControlName="currentpast_company_name" required></ion-input>
      </ion-item>
      <div class="error ion-padding"
        *ngIf="experienceForm.get('currentpast_company_name')?.invalid && (experienceForm.get('currentpast_company_name')?.touched || experienceForm.get('currentpast_company_name')?.dirty)">
        <ion-text color="danger">Company Name is required.</ion-text>
      </div>

      <!-- <ion-item lines="none">
        <ion-checkbox slot="start">Currently Working Here</ion-checkbox> -->
        <ion-item lines="none">
          <ion-radio slot="start" value="yes_currenly_workhere"></ion-radio>
          <ion-label class="cust_label">Currently Working Here</ion-label>
        </ion-item>
      <!-- </ion-item> -->

      <ion-item class="custom-input-item" lines="none">
        <ion-label position="stacked">Monthly Salary</ion-label>
        <ion-input type="number" formControlName="monthly_salary" required></ion-input>
      </ion-item>
      <div class="error ion-padding" *ngIf="experienceForm.get('monthly_salary')?.invalid">
        <ion-text color="danger"
          *ngIf="experienceForm.get('monthly_salary')?.invalid && (experienceForm.get('monthly_salary')?.touched || experienceForm.get('monthly_salary')?.dirty)">Monthly
          Salary is required.</ion-text>
        <ion-text color="danger" *ngIf="experienceForm.get('monthly_salary')?.errors?.['min']">Total Salary must be at
          least 1000.</ion-text>
      </div>

      <ion-item class="custom-input-item" lines="none">
        <ion-label position="stacked">Industry type</ion-label>
        <ion-select formControlName="industry_type" class="custom-select"
          placeholder="Select Industry Type" toggleIcon="assets/dropdown_toggle.svg" required>
          <ion-select-option value="" disabled>Select Industry</ion-select-option>
          <ion-select-option *ngFor="let industry of industryTypes" [value]="industry.id">{{ industry.value
            }}</ion-select-option>
        </ion-select>
      </ion-item>
      <div class="error ion-padding"
        *ngIf="experienceForm.get('industry_type')?.invalid && (experienceForm.get('industry_type')?.touched || experienceForm.get('industry_type')?.dirty)">
        <ion-text color="danger">Industry Type is required.</ion-text>
      </div>
    </div>

    <div class="button-container">
      <ion-row>
        <ion-col size="6"><ion-button (click)="previousPage()" expand="block"
            class="back_btn">Back</ion-button></ion-col>
        <ion-col size="6"><ion-button *ngIf="!dataExists" type="submit" expand="block" class="next_btn"
            [disabled]="experienceForm.invalid">
            Save and Continue
          </ion-button>
          <ion-button *ngIf="dataExists" (click)="updateForm()" expand="block" class="next_btn">
            Next
          </ion-button></ion-col>
      </ion-row>
    </div>
  </form>
</ion-content>

<style>
  /* .page-content {
    padding: 20px;
  } */
</style>